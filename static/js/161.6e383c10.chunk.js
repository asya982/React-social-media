"use strict";(self.webpackChunksocial_media=self.webpackChunksocial_media||[]).push([[161],{8198:function(t,e,s){s.r(e),s.d(e,{default:function(){return V}});var r=s(1413),n=s(5671),a=s(3144),o=s(136),i=s(516),u=s(2791),c=s(8687),l=s(6508),p=s(9195),d="MyPosts_posts__8o7Xy",f="MyPosts_newPost__C4EOv",h=s(9439),x="Post_item__FF64l",j="Post_container__B50uK",m="Post_likes__J+XQO",v=s(5567),g=s(184),_=function(t){var e=(0,u.useState)(t.likes),s=(0,h.Z)(e,2),r=s[0],n=s[1];return(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)("img",{src:t.avatar?t.avatar:v,alt:"avatar",className:"avatar"}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("span",{children:r}),(0,g.jsx)("button",{onClick:function(){return n(r+1)},children:"Like"})]})]}),(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)("h5",{children:t.userName}),(0,g.jsx)("p",{children:t.message})]})]})},P=function(t){var e=(0,p.cI)(),s=e.register,n=e.handleSubmit,a=e.reset;return(0,g.jsxs)("form",{onSubmit:n((function(e){var s=e.postText;s.trim()&&(t.onAddPost(s),a())})),children:[(0,g.jsx)("textarea",(0,r.Z)({},s("postText"))),(0,g.jsx)("button",{children:"Post"})]})},I=function(t){var e=t.postData.map((function(e){return(0,g.jsx)(_,(0,r.Z)({userName:t.userName,avatar:t.avatar},e),e.id)}));return(0,g.jsxs)("section",{className:d,children:[(0,g.jsx)("h3",{children:"My posts"}),(0,g.jsx)("div",{className:f,children:(0,g.jsx)(P,{onAddPost:t.onAddPost,updateNewPostText:t.updateNewPostText})}),(0,g.jsx)("div",{children:e.reverse()})]})},Z=(0,c.$j)((function(t){return{postData:t.profilePage.profile.postData,avatar:t.profilePage.profile.userInfo.photos.small,userName:t.profilePage.profile.userInfo.fullName,newPostText:t.profilePage.newPostText}}),(function(t){return{onAddPost:function(e){t((0,l.Wl)(e))}}}))(I),N="ProfileInfo_banner__vLcS6",k="ProfileInfo_description__u7GZ5",b="ProfileInfo_avatar__1VFcV",S="ProfileInfo_userInfo__AcMDd",y="ProfileInfo_contacts__hKq1Z",M="ProfileInfo_status__YrBI5",A=s.p+"static/media/banner.3b9eec8d8e3df9993f86.png",C=function(t){(0,o.Z)(s,t);var e=(0,i.Z)(s);function s(){var t;(0,n.Z)(this,s);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={editMode:!1,status:t.props.status},t.componentDidUpdate=function(e){e.status!==t.props.status&&t.setState({status:t.props.status})},t.activateEditMode=function(){t.props.userId===t.props.currentUser&&t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.status!==t.state.status&&t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.target.value})},t.render=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("p",{className:M,children:["Status:",!t.state.editMode&&(0,g.jsx)("span",{onDoubleClick:t.activateEditMode,children:t.props.status||"------"}),t.state.editMode&&(0,g.jsx)("input",{autoFocus:!0,onBlur:t.deactivateEditMode,value:t.state.status,onChange:t.onStatusChange})]})})},t}return(0,a.Z)(s)}(u.Component),w=C,D=s(2093),U=s(5758),F=s(4668),E=s(1880),T=s(3466),J=function(t){var e=t.userInfo,s=["facebook","twitter","instagram","github"],r=Object.keys(e.contacts).filter((function(t){return s.includes(t)})).map((function(t,s){return{site:t,link:e.contacts[t],id:s}})),n=function(t){switch(t){case s[0]:return(0,g.jsx)(D.Z,{});case s[1]:return(0,g.jsx)(F.Z,{});case s[2]:return(0,g.jsx)(E.Z,{});case s[3]:return(0,g.jsx)(U.Z,{});default:return null}};return(0,g.jsxs)("p",{className:y,children:["Contacts:",r.map((function(t,e){return t.link?(0,g.jsx)(T.Z,{href:t.link,id:t.id,color:"inherit",target:"_blank",children:n(t.site)},e):null}))]})},B=function(t){var e=t.userInfo,s=t.status,r=t.updateStatus,n=t.currentUser;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{className:N,src:A,alt:"back"}),(0,g.jsxs)("section",{className:k,children:[(0,g.jsx)("img",{className:b,src:e.photos.large?e.photos.large:v,alt:"avatar"}),(0,g.jsxs)("div",{className:S,children:[(0,g.jsx)("h2",{children:e.fullName}),(0,g.jsx)(w,{status:s,updateStatus:r,userId:e.userId,currentUser:n}),(0,g.jsxs)("p",{children:["About: ",(0,g.jsx)("span",{children:e.aboutMe})]}),(0,g.jsxs)("p",{children:["Job status:"," ",(0,g.jsx)("span",{children:e.lookingForAJob?e.lookingForAJobDescription:" Enjoying my life"})]}),(0,g.jsx)(J,{userInfo:e})]})]})]})},O=function(t){return(0,g.jsxs)("div",{children:[(0,g.jsx)(B,{userInfo:t.userInfo,status:t.status,updateStatus:t.updateStatus,currentUser:t.currentUser}),(0,g.jsx)(Z,{})]})},$=s(1548),q=s(7781),K=s(5628),L=function(t){(0,o.Z)(s,t);var e=(0,i.Z)(s);function s(){var t;(0,n.Z)(this,s);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).render=function(){return(0,g.jsx)(O,(0,r.Z)({},t.props))},t}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(t){t.router.params.userId!==this.props.router.params.userId&&(this.props.getProfile(this.props.currentUser),this.props.getStatus(this.props.currentUser))}},{key:"componentDidMount",value:function(){var t=this.props.router.params.userId||this.props.currentUser;this.props.getProfile(t),this.props.getStatus(t)}}]),s}(u.Component),V=(0,q.qC)((0,c.$j)((function(t){return{userInfo:t.profilePage.profile.userInfo,status:t.profilePage.status,currentUser:t.auth.id}}),{getProfile:l.Ai,getStatus:l.lR,updateStatus:l.Nf}),K.E,$.D)(L)},1548:function(t,e,s){s.d(e,{D:function(){return f}});var r=s(1413),n=s(5671),a=s(3144),o=s(136),i=s(516),u=s(2791),c=s(8687),l=s(7689),p=s(184),d=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){(0,o.Z)(u,e);var s=(0,i.Z)(u);function u(){return(0,n.Z)(this,u),s.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,r.Z)({},this.props)):(0,p.jsx)(l.Fg,{to:"/login"})}}]),u}(u.Component);return(0,c.$j)(d)(e)}}}]);
//# sourceMappingURL=161.6e383c10.chunk.js.map